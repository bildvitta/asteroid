type: component

mixins:
  - '@bildvitta/quasar-ui-asteroid/dist/api/QasSearchBox.json'

meta:
  desc: Componente para selecionar dentro de uma lista com pesquisa utilizando o `QasSearchBox`.

props:
  delete-only:
    desc: Caso o "modelValue" tenha valor, ele remove tudo na lista que não esteja dentro do modelValue.
    type: Boolean

  fuse-options:
    desc: Propriedade que será repassada para o "QasSearchBox".
    default: "{ keys: ['label'] }"
    type: Object

  list:
    desc: Lista que será feita a seleção e pesquisa.
    default: []
    type: Array

  model-value:
    desc: Model do componente, que será controlado tudo que foi selecionado.
    default: []
    type: Array
    examples: [v-model="value"]
    model: true

  to:
    desc: 'Configuração do vue-router para enviar no $route.push({ ...to, params: {...} }).'
    default: Pesquisar
    type: String

  redirect-key:
    desc: Controla qual propriedade será a chave primaria para fazer o redirecionamento.
    default: uuid
    type: String

  param-key:
    desc: Controla qual parâmetro será enviado para rota.
    default: id
    type: String

  results:
    desc: Model que retorna o resultado filtrado.
    default: []
    type: Array
    examples: [v-model:results="results"]
    model: true

slots:
  default:
    desc: Acesso ao conteúdo principal, só existe caso a busca retorne algum resulado.

  empty-result:
    desc: Acesso ao conteúdo quando a busca não retorne resultado e a prop "useEmptySlot" seja "true".

events:
  empty-result:
    desc: Dispara toda vez que a pesquisa não retorna resultado.

  '@update:model-value -> function (value)':
    desc: Dispara toda vez que o campo de busca é alterado, também utilizado para v-model
    scope:
      value:
        desc: Novo valor do v-model
        type: String

  '@update:results -> function (value)':
    desc: Dispara toda vez que o campo de busca é alterado e acontece um novo filtro, também utilizado para v-model:results
    scope:
      value:
        desc: Novo valor do v-model:results
        default: []
        type: Array
